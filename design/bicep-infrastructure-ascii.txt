================================================================================
                    AZURE BICEP INFRASTRUCTURE - ASCII DIAGRAM
                              arolariu.ro Platform
================================================================================

┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    AZURE SUBSCRIPTION (swedencentral)                                   │
│  ┌───────────────────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                                     RESOURCE GROUP (arolariu-rg)                                  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                 🌐 NETWORKING LAYER                                         │  │  │
│  │  │  ┌─────────────────────┐      ┌─────────────────────┐      ┌─────────────────────┐         │  │  │
│  │  │  │   Azure Front Door  │─────▶│      DNS Zone       │◀─────│   Custom Domains    │         │  │  │
│  │  │  │   (CDN + WAF)       │      │   (arolariu.ro)     │      │  *.arolariu.ro      │         │  │  │
│  │  │  └─────────┬───────────┘      └─────────────────────┘      └─────────────────────┘         │  │  │
│  │  └────────────┼────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │               │                                                                                   │  │
│  │               ▼                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                  🌍 WEBSITES LAYER                                          │  │  │
│  │  │                                                                                             │  │  │
│  │  │  ┌─────────────────────────────────────────────────────────────────────────────────────┐   │  │  │
│  │  │  │                        💻 PRODUCTION APP SERVICE PLAN                               │   │  │  │
│  │  │  │  ┌─────────────────┐  ┌─────────────────┐                                           │   │  │  │
│  │  │  │  │  arolariu.ro    │  │ api.arolariu.ro │                                           │   │  │  │
│  │  │  │  │  (Next.js)      │  │    (.NET 10)    │                                           │   │  │  │
│  │  │  │  │  [Frontend]     │  │   [Backend]     │                                           │   │  │  │
│  │  │  │  └─────────────────┘  └─────────────────┘                                           │   │  │  │
│  │  │  └─────────────────────────────────────────────────────────────────────────────────────┘   │  │  │
│  │  │                                                                                             │  │  │
│  │  │  ┌─────────────────────────────────────────────────────────────────────────────────────┐   │  │  │
│  │  │  │                      💻 DEVELOPMENT APP SERVICE PLAN                                │   │  │  │
│  │  │  │  ┌─────────────────┐                                                                │   │  │  │
│  │  │  │  │ dev.arolariu.ro │                                                                │   │  │  │
│  │  │  │  │  (Next.js Dev)  │                                                                │   │  │  │
│  │  │  │  └─────────────────┘                                                                │   │  │  │
│  │  │  └─────────────────────────────────────────────────────────────────────────────────────┘   │  │  │
│  │  │                                                                                             │  │  │
│  │  │  ┌─────────────────────────────────────────────────────────────────────────────────────┐   │  │  │
│  │  │  │                         📄 STATIC WEB APPS (Free Tier)                              │   │  │  │
│  │  │  │  ┌─────────────────┐  ┌─────────────────┐                                           │   │  │  │
│  │  │  │  │docs.arolariu.ro │  │ cv.arolariu.ro  │                                           │   │  │  │
│  │  │  │  │    (DocFX)      │  │  (SvelteKit)    │                                           │   │  │  │
│  │  │  │  └─────────────────┘  └─────────────────┘                                           │   │  │  │
│  │  │  └─────────────────────────────────────────────────────────────────────────────────────┘   │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                 🔐 IDENTITY & SECURITY                                      │  │  │
│  │  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │  │  │
│  │  │  │ UAMI: Frontend  │  │ UAMI: Backend   │  │ UAMI: Infra     │  │  Federated      │         │  │  │
│  │  │  │  (Web Apps)     │  │  (API + AI)     │  │ (Deployments)   │  │  Credentials    │         │  │  │
│  │  │  └─────────────────┘  └─────────────────┘  └─────────────────┘  └─────────────────┘         │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                  ⚙️ CONFIGURATION                                           │  │  │
│  │  │  ┌─────────────────┐              ┌─────────────────┐                                       │  │  │
│  │  │  │   Azure Key     │              │ App Configuration│                                      │  │  │
│  │  │  │    Vault        │◀────────────▶│    Service       │                                      │  │  │
│  │  │  │  (Secrets)      │              │  (Feature Flags) │                                      │  │  │
│  │  │  └─────────────────┘              └─────────────────┘                                       │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                   📦 STORAGE LAYER                                          │  │  │
│  │  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │  │  │
│  │  │  │ Storage Account │  │   Container     │  │   Azure SQL     │  │   Cosmos DB     │         │  │  │
│  │  │  │  (Blobs/CDN)    │  │   Registry      │  │   Server        │  │   (NoSQL)       │         │  │  │
│  │  │  │                 │  │   (Docker)      │  │  (Relational)   │  │  (Documents)    │         │  │  │
│  │  │  └─────────────────┘  └─────────────────┘  └─────────────────┘  └─────────────────┘         │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                  📊 OBSERVABILITY                                           │  │  │
│  │  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                              │  │  │
│  │  │  │  Log Analytics  │──│  Application    │──│ Managed Grafana │                              │  │  │
│  │  │  │   Workspace     │  │   Insights      │  │  (Dashboards)   │                              │  │  │
│  │  │  └─────────────────┘  └─────────────────┘  └─────────────────┘                              │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                   🤖 AI SERVICES                                            │  │  │
│  │  │  ┌─────────────────┐              ┌─────────────────┐                                       │  │  │
│  │  │  │ Azure OpenAI    │              │   AI Foundry    │                                       │  │  │
│  │  │  │  (GPT Models)   │◀────────────▶│   (ML Hub)      │                                       │  │  │
│  │  │  └─────────────────┘              └─────────────────┘                                       │  │  │
│  │  └─────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                   │  │
│  └───────────────────────────────────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘


================================================================================
                              MODULE DEPENDENCY FLOW
================================================================================

    ┌──────────────────────────────────────────────────────────────────────────┐
    │                           main.bicep                                      │
    │                    (Subscription Scope Entry Point)                       │
    └─────────────────────────────────┬────────────────────────────────────────┘
                                      │
                                      ▼
    ┌──────────────────────────────────────────────────────────────────────────┐
    │                          facade.bicep                                     │
    │                    (Resource Group Orchestrator)                          │
    └─────────────────────────────────┬────────────────────────────────────────┘
                                      │
            ┌─────────────────────────┼─────────────────────────┐
            │                         │                         │
            ▼                         ▼                         ▼
    ┌───────────────┐         ┌───────────────┐         ┌───────────────┐
    │   Identity    │         │ Configuration │         │    RBAC       │
    │  Deployment   │         │  Deployment   │         │  Deployment   │
    └───────┬───────┘         └───────┬───────┘         └───────────────┘
            │                         │                         ▲
            │                         │                         │
            ├─────────────────────────┼─────────────────────────┘
            │                         │
            ▼                         ▼
    ┌───────────────┐         ┌───────────────┐         ┌───────────────┐
    │ Observability │         │    Storage    │         │    Compute    │
    │  Deployment   │         │  Deployment   │         │  Deployment   │
    └───────┬───────┘         └───────┬───────┘         └───────┬───────┘
            │                         │                         │
            └─────────────────────────┼─────────────────────────┘
                                      │
                                      ▼
                            ┌───────────────┐
                            │    Sites      │
                            │  Deployment   │
                            └───────┬───────┘
                                    │
                    ┌───────────────┼───────────────┐
                    │               │               │
                    ▼               ▼               ▼
            ┌───────────────┐ ┌───────────────┐ ┌───────────────┐
            │    Network    │ │      AI       │ │   Bindings    │
            │  Deployment   │ │  Deployment   │ │  Deployment   │
            └───────────────┘ └───────────────┘ └───────────────┘


================================================================================
                              RESOURCE SUMMARY TABLE
================================================================================

    ┌────────────────┬────────────────────────────────────────────────────────┐
    │     Layer      │                   Resources Deployed                   │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │   Identity     │ • User Assigned Managed Identities (3x)                │
    │                │ • Federated Credentials (GitHub OIDC)                  │
    │                │ • Security Groups                                      │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │     RBAC       │ • Frontend UAMI Role Assignments                       │
    │                │ • Backend UAMI Role Assignments                        │
    │                │ • Infrastructure UAMI Role Assignments                 │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │ Configuration  │ • Azure Key Vault (Secrets)                            │
    │                │ • App Configuration Service (Feature Flags)            │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │ Observability  │ • Log Analytics Workspace                              │
    │                │ • Application Insights                                 │
    │                │ • Managed Grafana                                      │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │    Storage     │ • Storage Account (Blobs/CDN)                          │
    │                │ • Container Registry (Docker)                          │
    │                │ • Azure SQL Server                                     │
    │                │ • Cosmos DB (NoSQL)                                    │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │    Compute     │ • Production App Service Plan                          │
    │                │ • Development App Service Plan                         │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │     Sites      │ • arolariu.ro (Next.js Frontend)                       │
    │                │ • api.arolariu.ro (.NET 10 Backend)                    │
    │                │ • dev.arolariu.ro (Development)                        │
    │                │ • docs.arolariu.ro (DocFX - Static)                    │
    │                │ • cv.arolariu.ro (SvelteKit - Static)                  │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │    Network     │ • Azure Front Door (CDN + WAF)                         │
    │                │ • DNS Zone (arolariu.ro)                               │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │       AI       │ • Azure OpenAI (GPT Models)                            │
    │                │ • AI Foundry Hub + Project                             │
    ├────────────────┼────────────────────────────────────────────────────────┤
    │   Bindings     │ • Custom Domain Bindings                               │
    │                │ • SSL/TLS Certificate Bindings                         │
    └────────────────┴────────────────────────────────────────────────────────┘


================================================================================
                              DATA FLOW DIAGRAM
================================================================================

                                    INTERNET
                                       │
                                       ▼
                    ┌──────────────────────────────────────┐
                    │         Azure Front Door             │
                    │     (CDN + WAF + Load Balancer)      │
                    └──────────────────┬───────────────────┘
                                       │
           ┌───────────────┬───────────┴───────────┬───────────────┐
           │               │                       │               │
           ▼               ▼                       ▼               ▼
    ┌─────────────┐ ┌─────────────┐         ┌─────────────┐ ┌─────────────┐
    │arolariu.ro  │ │  api.       │         │docs.        │ │cv.          │
    │ (Frontend)  │ │arolariu.ro  │         │arolariu.ro  │ │arolariu.ro  │
    │  Next.js    │ │  .NET API   │         │  DocFX      │ │ SvelteKit   │
    └──────┬──────┘ └──────┬──────┘         └─────────────┘ └─────────────┘
           │               │
           │               ├───────────────────────────┐
           │               │                           │
           │               ▼                           ▼
           │        ┌─────────────┐             ┌─────────────┐
           │        │ Azure SQL   │             │  Cosmos DB  │
           │        │  Server     │             │   (NoSQL)   │
           │        └─────────────┘             └─────────────┘
           │               │
           │               ▼
           │        ┌─────────────┐
           │        │ Azure OpenAI│
           │        │ (AI Models) │
           │        └─────────────┘
           │
           ▼
    ┌─────────────┐
    │   Storage   │
    │   Account   │
    │  (CDN/Blob) │
    └─────────────┘


================================================================================
                        Generated: December 2024
                        Author: arolariu.ro Infrastructure Team
================================================================================
